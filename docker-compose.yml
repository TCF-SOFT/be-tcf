services:
  mailhog:
    image: mailhog/mailhog:v1.0.1
    container_name: 'mailhog'
    ports:
      - "1025:1025"
      - "8025:8025"

  redis:
    image: redis:8.2-bookworm
    container_name: 'redis'
    ports:
      - "6379:6379"
    environment:
      - ALLOW_EMPTY_PASSWORD=yes

  postgres:
    image: postgres:17.5-bookworm
    container_name: 'postgres'
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_DB=test_db
      - POSTGRES_USER=test_user
      - POSTGRES_PASSWORD=test_password

  minio:
    image: ghcr.io/utikpuhlik/minio:latest
    container_name: 'minio'
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: test_access_key
      MINIO_ROOT_PASSWORD: test_secret_key
      MINIO_DEFAULT_BUCKETS: "assets-test"
